!function(a){"function"==typeof define&&define.amd?define(a):a()}(function(){"use strict";function a(a){this.message=a}a.prototype=new Error,a.prototype.name="InvalidCharacterError";var d="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(g){var e=String(g).replace(/=+$/,"");if(e.length%4==1)throw new a("'atob' failed: The string to be decoded is not correctly encoded.");for(var c,b,d=0,h=0,f="";b=e.charAt(h++);~b&&(c=d%4?64*c+b:b,(d++)%4)&&(f+=String.fromCharCode(255&c>>(-2*d&6))))b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b);return f};function b(a){this.message=a}function c(a,c){if("string"!=typeof a)throw new b("Invalid token specified");var e=!0===(c=c||{}).header?0:1;try{return JSON.parse(function(c){var b,a=c.replace(/-/g,"+").replace(/_/g,"/");switch(a.length%4){case 0:break;case 2:a+="==";break;case 3:a+="=";break;default:throw"Illegal base64url string!"}try{return b=a,decodeURIComponent(d(b).replace(/(.)/g,function(c,b){var a=b.charCodeAt(0).toString(16).toUpperCase();return a.length<2&&(a="0"+a),"%"+a}))}catch(e){return d(a)}}(a.split(".")[e]))}catch(f){throw new b("Invalid token specified: "+f.message)}}b.prototype=new Error,b.prototype.name="InvalidTokenError",window&&("function"==typeof window.define&&window.define.amd?window.define("jwt_decode",function(){return c}):window&&(window.jwt_decode=c))})